<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Getting Started · DynamicBounds.jl: Nonlinear Interval Bounds and State Relaxations of Differential Equations</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">DynamicBounds.jl: Nonlinear Interval Bounds and State Relaxations of Differential Equations</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Introduction</a></li><li class="is-active"><a class="tocitem" href="getting_started.html">Getting Started</a><ul class="internal"><li><a class="tocitem" href="#Setting-up-a-relaxation-problem"><span>Setting up a relaxation problem</span></a></li><li><a class="tocitem" href="#Creating-an-integrator-from-the-problem"><span>Creating an integrator from the problem</span></a></li><li><a class="tocitem" href="#Computing-relaxations-and-trajectories"><span>Computing relaxations and trajectories</span></a></li><li><a class="tocitem" href="#Querying-the-integrator/problem-for-information"><span>Querying the integrator/problem for information</span></a></li><li><a class="tocitem" href="#Use-the-sample-problem-library"><span>Use the sample problem library</span></a></li></ul></li><li><a class="tocitem" href="Base/Base.html">DynamicsBoundsBase, An extendable abstraction layer</a></li><li><a class="tocitem" href="pODEsDiscrete/pODEsDiscrete.html">Discrete-Time Differential Relaxations</a></li><li><a class="tocitem" href="pODEsIneq/pODEsIneq.html">Continuous-Time Differential Relaxations</a></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Contributing to DynamicBounds</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="Contributing/contributing.html">How to Contribute</a></li><li><a class="tocitem" href="Contributing/add_problem.html">How to Add a Problem Type</a></li><li><a class="tocitem" href="Contributing/add_integrator.html">How to Add an Integrator</a></li></ul></li><li><a class="tocitem" href="ref.html">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="getting_started.html">Getting Started</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="getting_started.html">Getting Started</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com//blob/master/docs/src/getting_started.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Getting-Started"><a class="docs-heading-anchor" href="#Getting-Started">Getting Started</a><a id="Getting-Started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Started" title="Permalink"></a></h1><p>The including integrators used by constructing a relaxation problem. Then by adding attributes to the relaxation problem and building the integrator from the relaxation problem. The integrator may then be modified by using the base API. Lastly, the relax!/integrate! are called to compute information about the trajectories and this information is retrieved using API functions.</p><h2 id="Setting-up-a-relaxation-problem"><a class="docs-heading-anchor" href="#Setting-up-a-relaxation-problem">Setting up a relaxation problem</a><a id="Setting-up-a-relaxation-problem-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-up-a-relaxation-problem" title="Permalink"></a></h2><p>We begin by constructing a relaxation problem. Currently, the <code>ODERelaxProb</code> is used for all parametric ODEs but specialized variants of this will become available in the future. This manner of relaxation problem is specified using the right-hand side function <code>f!</code> (evaluated in place) along with a function of <code>p</code> defining the initial conditions. A time span and box constraints on <code>p</code> are also expected.</p><pre><code class="language-julia">using DynamicBounds

function f!(dx, x, p, t)
    dx[1] = -p[1]*x[1]*x[2] + p[2]*x[3] + p[6]*x[6]
    dx[2] = -p[1]*x[1]*x[2] + p[2]*x[3] + p[3]*x[3]
    dx[3] =  p[1]*x[1]*x[2] - p[2]*x[3] - p[3]*x[3]
    dx[4] =  p[3]*x[3] - p[4]*x[4]*x[5] + p[5]*x[6]
    dx[5] = -p[4]*x[4]*x[5] + p[5]*x[6] + p[6]*x[6]
    dx[6] =  p[4]*x[4]*x[5] - p[5]*x[6] - p[6]*x[6]
    return
end
x0(p) = [34.0, 20.0, 0.0, 0.0, 16.0, 0.0]

tspan = (0.0, 18.0e-5*250)
pL = [0.1; 0.033; 16.0; 5.0; 0.5; 0.3]
pU = 10.0*pL

ode_prob = ODERelaxProb(f!, x0, tspan, pL, pU)</code></pre><p>We can often further refine bounds/relaxation on the state variables by making use of invariants and apriori bounds/relaxations. We&#39;ll add a polyhedral invariant and apriori bounds state bounds.</p><pre><code class="language-julia">M = [0.0 -1.0 -1.0  0.0  0.0  0.0;
     0.0  0.0  0.0  0.0 -1.0 -1.0;
     1.0 -1.0  0.0  1.0 -1.0  0.0]
b = [-20.0; -16.0; -2.0]
polyhedral_invariant = PolyhedralConstraint(M, :==, b)
set!(ode_prob, polyhedral_invariant)

u_lo = zeros(6)
u_hi = [34.0; 20.0; 20.0; 34.0; 16.0; 16.0]
set!(prob, ConstantBounds(u_lo, u_hi))</code></pre><p>We now can specify the points at which we want to retrieve information about state variables by adding a <code>QueriedSupport</code> attribute to the problem</p><pre><code class="language-julia">set!(prob, QueriedSupport(range(tspan[1], tspan[2], length = 50)))</code></pre><h2 id="Creating-an-integrator-from-the-problem"><a class="docs-heading-anchor" href="#Creating-an-integrator-from-the-problem">Creating an integrator from the problem</a><a id="Creating-an-integrator-from-the-problem-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-an-integrator-from-the-problem" title="Permalink"></a></h2><p>The integrator is built from the relaxation problem along with keyword variables.</p><pre><code class="language-julia">integrator = DifferentialInequality(ode_prob, calculate_relax = true,
                                              calculate_subgradient = false)</code></pre><p>Provided that we&#39;re interested in computing relaxations as well as constant bounds (w.r.t <code>p</code>) we&#39;ll need to specify parameter values within the box constraints.</p><pre><code class="language-julia">setall!(integrator, ParameterValue(), p)</code></pre><p>Relaxation problems also support the <code>ParameterValue</code> attributes. However, it&#39;s often preferable to set the value in the integrator to avoid rebuilding the integrator each time.</p><h2 id="Computing-relaxations-and-trajectories"><a class="docs-heading-anchor" href="#Computing-relaxations-and-trajectories">Computing relaxations and trajectories</a><a id="Computing-relaxations-and-trajectories-1"></a><a class="docs-heading-anchor-permalink" href="#Computing-relaxations-and-trajectories" title="Permalink"></a></h2><p>We now compute the relevant information about the state variables and the solution of the pODEs.</p><pre><code class="language-julia">relax!(integrator)      # compute relaxations
integrate!(integrator)  # compute trajectories</code></pre><h2 id="Querying-the-integrator/problem-for-information"><a class="docs-heading-anchor" href="#Querying-the-integrator/problem-for-information">Querying the integrator/problem for information</a><a id="Querying-the-integrator/problem-for-information-1"></a><a class="docs-heading-anchor-permalink" href="#Querying-the-integrator/problem-for-information" title="Permalink"></a></h2><p>We can now query functions using the <code>get</code> API function.</p><pre><code class="language-julia">val = get(integrator, Value(3))
lo = get(integrator, Bound{Lower}(3))
hi = get(integrator, Bound{Upper}(3))
cv = get(integrator, Relaxation{Lower}(3))
cc = get(integrator, Relaxation{Upper}(3))</code></pre><h2 id="Use-the-sample-problem-library"><a class="docs-heading-anchor" href="#Use-the-sample-problem-library">Use the sample problem library</a><a id="Use-the-sample-problem-library-1"></a><a class="docs-heading-anchor-permalink" href="#Use-the-sample-problem-library" title="Permalink"></a></h2><pre><code class="language-julia">DE_keys = keys(LibRelaxODE.STANDARD_LIBRARY)
for i = 1:length(keys)
    prob = LibRelaxODE.STANDARD_LIBRARY(DE_keys[i])
    integrator = DifferentialInequality(prob)
    relax!(integrator)
end</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="index.html">« Introduction</a><a class="docs-footer-nextpage" href="Base/Base.html">DynamicsBoundsBase, An extendable abstraction layer »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 22 July 2021 16:42">Thursday 22 July 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
